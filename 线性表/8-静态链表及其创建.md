《[顺序表和链表优缺点](http://c.biancheng.net/view/3344.html)》一节，我们了解了两种存储结构各自的特点，那么，是否存在一种存储结构，可以融合[顺序表](http://c.biancheng.net/view/3334.html)和[链表](http://c.biancheng.net/view/3336.html)各自的优点，从而既能快速访问元素，又能快速增加或删除数据元素。

静态链表，也是[线性存储结构](http://c.biancheng.net/view/3333.html)的一种，它兼顾了顺序表和链表的优点于一身，可以看做是顺序表和链表的升级版。

使用静态链表存储数据，数据全部存储在数组中（和顺序表一样），但存储位置是随机的，数据之间"一对一"的逻辑关系通过一个整形变量（称为"游标"，和指针功能类似）维持（和链表类似）。

例如，使用静态链表存储 `{1,2,3}` 的过程如下：

创建一个足够大的数组，假设大小为 6，如图 1 所示：

![空数组](http://c.biancheng.net/uploads/allimg/190426/1GR0LH-0.gif)

​																			图 1 空数组


接着，在将数据存放到数组中时，给各个数据元素配备一个整形变量，此变量用于指明各个元素的直接后继元素所在数组中的位置下标，如图 2 所示：

![静态链表存储数据](http://c.biancheng.net/uploads/allimg/190426/1GR06037-1.gif)

图 2 静态链表存储数据

通常，静态链表会将第一个数据元素放到数组下标为 1 的位置（a[1]）中。

图 2 中，从 a[1] 存储的数据元素 1 开始，通过存储的游标变量 3，就可以在 a[3] 中找到元素 1 的直接后继元素 2；同样，通过元素 a[3] 存储的游标变量 5，可以在 a[5] 中找到元素 2 的直接后继元素 3，这样的循环过程直到某元素的游标变量为 0 截止（因为 a[0] 默认不存储数据元素）。

类似图 2 这样，通过 "数组+游标" 的方式存储具有线性关系数据的存储结构就是静态链表。

## 静态链表中的节点

通过上面的学习我们知道，静态链表存储数据元素也需要自定义数据类型，至少需要包含以下 2 部分信息：

- 数据域：用于存储数据元素的值；
- 游标：其实就是数组下标，表示直接后继元素所在数组中的位置；


因此，静态链表中节点的构成用 C 语言实现为：

```c
typedef struct {
    int data;//数据域
    int cur;//游标
}component;
```

## 备用链表

图 2 显示的静态链表还不够完整，静态链表中，除了数据本身通过游标组成的链表外，还需要有一条连接各个空闲位置的链表，称为备用链表。

备用链表的作用是回收数组中未使用或之前使用过（目前未使用）的存储空间，留待后期使用。也就是说，静态链表使用数组申请的物理空间中，存有两个链表，一条连接数据，另一条连接数组中未使用的空间。

通常，备用链表的表头位于数组下标为 0（a[0]） 的位置，而数据链表的表头位于数组下标为 1（a[1]）的位置。

静态链表中设置备用链表的好处是，可以清楚地知道数组中是否有空闲位置，以便数据链表添加新数据时使用。比如，若静态链表中数组下标为 0 的位置上存有数据，则证明数组已满。

例如，使用静态链表存储 `{1,2,3}`，假设使用长度为 6 的数组 a，则存储状态可能如图 3 所示：

![备用链表和数据链表](http://c.biancheng.net/uploads/allimg/190426/1GR02463-2.gif)

图 3 备用链表和数据链表


图 3 中，备用链表上连接的依次是 a[0]、a[2] 和 a[4]，而数据链表上连接的依次是 a[1]、a[3] 和 a[5]。

## 静态链表的创建

假设使用静态链表（数组长度为 6）存储 `{1,2,3}`，则需经历以下几个阶段：

1. 在数据链表未初始化之前，数组中所有位置都处于空闲状态，因此都应被链接在备用链表上，如图 4 所示：

   ![未存储数据之前静态链表的状态](http://c.biancheng.net/uploads/allimg/190426/1GR04259-3.gif)

